{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developers | Documentation - Hirabricks</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
    <!-- RemixIcon CDN -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.1.0/fonts/remixicon.css" rel="stylesheet" />
    
    <link href="{% static 'image/factoryicon-black.png' %}" rel="shortcut icon" type="image/x-icon" media="(prefers-color-scheme: light)">
    <link href="{% static 'image/factoryicon-white.png' %}" rel="shortcut icon" type="image/x-icon" media="(prefers-color-scheme: dark)">
  
    <!-- ALpine.js CDN -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <meta name="description" content="Welcome to the Hirabricks Tunnel-kiln Website." />
    <meta name="keywords" content="Aashutosh shrestha, Hirabricks, Tunnel Kiln, Tunnel, Kiln" />
    <meta name="robots" content="index, follow" />
    <meta name="copyright" content="Aashutosh Shrestha @ 2024" />
    <meta name="language" content="EN" />
    <meta name="author" content="Aashutosh Shrestha" />
    <meta name="distribution" content="global" />
    <meta name="rating" content="general" />

    <meta property="og:title" content="Hirabricks | Tunnel-Kiln" />
    <meta property="og:description" content="Tunnel Kiln Car Position and history " />
    <meta property="og:image" content="{% static 'image/logo.png' %}" loading="eager" />
    <meta property="og:locale" content="en_US" />

    <link rel="canonical" href="https://car-records.vercel.app/" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  </head>

<body class="bg-gray-100 font-sans leading-normal tracking-normal">
     <!-- Header -->
     <header class="text-gray-600 body-font bg-white shadow">
        <div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center">
            <a class="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0">
                <span class="ml-3 text-xl">Markdown Blog</span>
            </a>
        </div>
    </header>  
    
    {% for post in posts %}
    <li><a href="{% url 'post_detail' post.id %}">{{ post.title }}</a></li>
    {% endfor %}

    <main class="pt-14 md:ml-64">
        {% block content %}

        {% endblock %}
    </main>


    <section>
        <div class="col-span-1 md:col-span-1">
            <h2 class="text-xl font-bold mb-4">In-Page Navigation</h2>
            {% for post in posts %}
            <div id="nav-{{ post.slug }}">
                <h3 class="text-lg font-semibold">{{ post.title }}</h3>
                <ul>
                    <!-- Assuming post content is HTML, you can use JavaScript to extract and display headings -->
                    <!-- For example: -->
                    <script>
                        var headings = document.querySelector("#post-{{ post.slug }}").querySelectorAll("h1, h2, h3, h4, h5, h6");
                        headings.forEach(function (heading) {
                            var headingText = heading.innerText;
                            var headingLevel = heading.tagName.toLowerCase().substring(1);
                            var listItem = document.createElement("li");
                            var link = document.createElement("a");
                            link.setAttribute("href", "#");
                            link.setAttribute("class", "ml-" + (headingLevel - 2) * 4); // Adjust indentation based on heading level
                            link.innerText = headingText;
                            listItem.appendChild(link);
                            document.querySelector("#nav-{{ post.slug }}").appendChild(listItem);
                        });
                    </script>
                </ul>
            </div>
            {% endfor %}
        </div>
    </section>

</body>
</html>
