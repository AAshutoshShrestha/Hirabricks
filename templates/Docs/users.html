{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Guide | Documentation - Hirabricks</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
    <!-- RemixIcon CDN -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.1.0/fonts/remixicon.css" rel="stylesheet" />
    
    <link href="{% static 'image/factoryicon-black.png' %}" rel="shortcut icon" type="image/x-icon" media="(prefers-color-scheme: light)">
    <link href="{% static 'image/factoryicon-white.png' %}" rel="shortcut icon" type="image/x-icon" media="(prefers-color-scheme: dark)">
  
    <!-- ALpine.js CDN -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <meta name="description" content="Welcome to the Hirabricks Tunnel-kiln Website." />
    <meta name="keywords" content="Aashutosh shrestha, Hirabricks, Tunnel Kiln, Tunnel, Kiln" />
    <meta name="robots" content="index, follow" />
    <meta name="copyright" content="Aashutosh Shrestha @ 2024" />
    <meta name="language" content="EN" />
    <meta name="author" content="Aashutosh Shrestha" />
    <meta name="distribution" content="global" />
    <meta name="rating" content="general" />

    <meta property="og:title" content="Hirabricks | Tunnel-Kiln" />
    <meta property="og:description" content="Tunnel Kiln Car Position and history " />
    <meta property="og:image" content="{% static 'image/logo.png' %}" loading="eager" />
    <meta property="og:locale" content="en_US" />

    <link rel="canonical" href="https://car-records.vercel.app/" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  </head>

<body>
    <div class="container mx-auto md:p-12 p-6">
        <div class="grid grid-cols-1 gap-4 md:grid-cols-3 lg:gap-8">
            <!-- First Column: List of Blog Post Titles -->
            <div class="rounded-lg bg-gray-200">
                <h2 class="text-xl font-bold mb-4">Blog Post Titles</h2>
                <ul>
                    {% for post in posts %}
                    <li><a href="#post-{{ post.slug }}">{{ post.title }}</a></li>
                    {% endfor %}
                </ul>
            </div>
            <!-- Second Column: Post Content -->
            <div class="rounded-lg lg:col-span-2">
                <h2 class="text-xl font-bold mb-4">Post Content</h2>
                {% for post in posts %}
                <div id="post-{{ post.slug }}">
                    <div>{{ post.content | markdown | safe }}</div>
                </div>
                {% endfor %}
            </div>
            <!-- Third Column: Post Content Markdown Headings -->
            <div class="rounded-lg bg-red-200 pl-12">
                <h2 class="text-xl font-bold mb-4">In-Page Navigation</h2>
                {% for post in posts %}
                <div id="nav-{{ post.slug }}">
                    <ul>
                        <script>
                            var headings = document.querySelector("#post-{{ post.slug }}").querySelectorAll("h1, h2, h3, h4, h5, h6");
                            headings.forEach(function (heading) {
                                var headingText = heading.innerText;
                                var headingLevel = heading.tagName.toLowerCase().substring(1);
                                var listItem = document.createElement("li");
                                var link = document.createElement("a");
                                link.setAttribute("href", "#");
                                link.setAttribute("class", "ml-" + (headingLevel - 2) * 4); // Adjust indentation based on heading level
                                link.innerText = headingText;
                                listItem.appendChild(link);
                                document.querySelector("#nav-{{ post.slug }}").appendChild(listItem);
                            });
                        </script>
                    </ul>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    
</body>
</html>